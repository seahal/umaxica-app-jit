<div class="mx-auto max-w-2xl px-6 py-10">
  <div class="mb-6">
    <span class="inline-flex items-center rounded-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-[hsl(var(--muted-foreground))]">
      Contact
    </span>
    <h1 class="mt-3 text-2xl font-semibold tracking-tight text-[hsl(var(--foreground))]">
      <%= title t('help.com.contacts.new.page_title') %>
    </h1>
    <p class="mt-2 text-sm text-[hsl(var(--muted-foreground))]">
      必要事項をご入力のうえ送信してください。担当者からご連絡します。
    </p>
  </div>

  <%= form_with model: @contact,
                url: help_com_contacts_path,
                scope: :com_contact,
                data: { turbo: false },
                html: { class: "rounded-2xl border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-6 shadow-[0_20px_60px_-45px_hsl(var(--foreground)/0.25)]" } do |form| %>
    <% if @contact&.errors&.any? %>
      <div id="error_explanation" class="rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700">
        <h2 class="font-semibold">
          <%= pluralize(@contact.errors.count, "error") %> prohibited this contact from being saved:
        </h2>

        <ul class="mt-2 list-disc space-y-1 pl-5">
          <% @contact.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mt-6 space-y-5">
      <div class="flex items-start gap-3 rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-4 py-3">
        <%= form.checkbox :confirm_policy,
                          checked: @contact&.confirm_policy == "1",
                          class: "mt-1 h-4 w-4 rounded border-[hsl(var(--border))] text-[hsl(var(--primary))] focus:ring-[hsl(var(--primary))]" %>
        <div>
          <%= form.label :confirm_policy, t('help.com.contacts.new.confirm_policy'),
                         class: "text-sm font-semibold text-[hsl(var(--foreground))]" %>
          <p class="mt-1 text-xs text-[hsl(var(--muted-foreground))]">
            ポリシーに同意いただけない場合は送信できません。
          </p>
        </div>
      </div>

      <div class="grid gap-2">
        <%= form.label :category_id, t('help.com.contacts.new.category_id'),
                       class: "text-sm font-semibold text-[hsl(var(--foreground))]" %>
        <%= form.collection_select :category_id,
                                   @contact_categories,
                                   :id,
                                   :id,
                                   { include_blank: true },
                                   class: "w-full rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-2 text-sm text-[hsl(var(--foreground))] focus:border-[hsl(var(--primary))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))/0.3]" %>
      </div>

      <div class="grid gap-2">
        <%= form.label :email_address, t('help.com.contacts.new.email_address'),
                       class: "text-sm font-semibold text-[hsl(var(--foreground))]" %>
        <%= form.email_field :email_address,
                             value: @email_address,
                             class: "w-full rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-2 text-sm text-[hsl(var(--foreground))] placeholder:text-[hsl(var(--muted-foreground))] focus:border-[hsl(var(--primary))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))/0.3]" %>
      </div>

      <div class="grid gap-2">
        <%= form.label :telephone_number, t('help.com.contacts.new.telephone_number'),
                       class: "text-sm font-semibold text-[hsl(var(--foreground))]" %>
        <%= form.text_field :telephone_number,
                            value: @telephone_number,
                            class: "w-full rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-2 text-sm text-[hsl(var(--foreground))] placeholder:text-[hsl(var(--muted-foreground))] focus:border-[hsl(var(--primary))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))/0.3]" %>
      </div>
    </div>

    <div class="mt-6 flex flex-wrap items-center gap-3">
      <%= link_to t('help.com.contacts.new.cancel'),
                  help_com_root_path,
                  class: "text-sm font-semibold text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]" %>
      <%= form.submit t('help.com.contacts.new.submit', default: t('helpers.submit.create')),
                      class: "rounded-full bg-[hsl(var(--primary))] px-6 py-2 text-sm font-semibold text-[hsl(var(--primary-foreground))] shadow-[0_10px_30px_-18px_hsl(var(--primary))] transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[hsl(var(--primary))]" %>
    </div>

    <div class="mt-6">
      <%= render "concern/cloudflare_turnstile" %>
    </div>
  <% end %>
</div>

<% scope = local_assigns.fetch(:scope).to_s %>
<% content_for :page_title, t("top.#{scope}.preferences.theme_settings") %>

<h1><%= t("top.#{scope}.preference.theme.edit.title") %></h1>
<p class="theme-description"><%= t("top.#{scope}.preference.theme.edit.description") %></p>

<%= form_with url: public_send("top_#{scope}_preference_theme_path"), method: :patch do %>
  <% (@theme_query_params || {}).each do |key, value| %>
    <%= hidden_field_tag key, value %>
  <% end %>
  <fieldset class="theme-options">
    <legend><%= t("top.#{scope}.preference.theme.edit.legend") %></legend>

    <div class="theme-option">
      <%= radio_button_tag :theme, Theme::THEME_CODES["light"], @theme == "light", id: "theme_light_#{scope}" %>
      <%= label_tag "theme_light_#{scope}", t("top.#{scope}.preference.theme.edit.options.light") %>
      <p class="hint"><%= t("top.#{scope}.preference.theme.edit.hints.light") %></p>
    </div>

    <div class="theme-option">
      <%= radio_button_tag :theme, Theme::THEME_CODES["dark"], @theme == "dark", id: "theme_dark_#{scope}" %>
      <%= label_tag "theme_dark_#{scope}", t("top.#{scope}.preference.theme.edit.options.dark") %>
      <p class="hint"><%= t("top.#{scope}.preference.theme.edit.hints.dark") %></p>
    </div>

    <div class="theme-option">
      <%= radio_button_tag :theme, Theme::THEME_CODES["system"], @theme == "system", id: "theme_system_#{scope}" %>
      <%= label_tag "theme_system_#{scope}", t("top.#{scope}.preference.theme.edit.options.system") %>
      <p class="hint"><%= t("top.#{scope}.preference.theme.edit.hints.system") %></p>
    </div>
  </fieldset>

  <div class="form-actions">
    <%= submit_tag t("top.#{scope}.preference.theme.edit.submit") %>
  </div>
<% end %>

<div>
  <%= link_to t("top.#{scope}.preferences.back_to_settings"), public_send("top_#{scope}_preference_path"), class: "inline-block px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-md transition-colors duration-200" %>
</div>

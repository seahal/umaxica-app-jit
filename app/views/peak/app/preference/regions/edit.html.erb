<% content_for :page_title, t('peak.app.preferences.regions.title') %>

<section class="mx-auto max-w-2xl rounded-2xl border border-slate-200 bg-white/90 p-8 shadow-sm mb-10">
  <h1 class="text-2xl font-semibold text-slate-900">
    <%= t("peak.app.preferences.regions.title") %>
  </h1>
  <p class="mt-2 text-sm text-slate-600">
    <%= t("peak.app.preferences.regions.select_region_prompt") %>
  </p>

  <%= form_with url: peak_app_preference_region_url, method: :patch,
                class: "mt-6 space-y-6",
                data: { controller: "unsaved-changes",
                        unsaved_changes_message_value: "変更は保存されていません。移動しますか？" } do |f| %>
    <div class="region-section space-y-3">
      <h2 class="text-sm font-semibold uppercase tracking-wide text-slate-500">
        <%= t("peak.app.preferences.regions.region_section") %>
      </h2>

      <div class="space-y-2">
        <%= f.label :region, t("peak.app.preferences.regions.select_region"), class: "text-sm font-medium text-slate-700" %>
        <%= f.select :region,
                     options_for_select(
                       [
                         [t("peak.app.preferences.regions.select_region_selector.USA"), "US"],
                         [t("peak.app.preferences.regions.select_region_selector.JAPAN"), "JP"]
                       ],
                       @current_region
                     ),
                     { prompt: t("peak.app.preferences.regions.select_region_prompt") },
                     class: "w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200" %>
      </div>
    </div>

    <div class="flex items-center gap-3">
      <%= f.submit t("peak.app.preferences.update_settings"),
                   class: "inline-flex items-center rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-800" %>
      <%= link_to t("peak.app.preferences.back_to_settings"),
                  peak_app_preference_path,
                  class: "inline-flex items-center rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50" %>
    </div>
  <% end %>
</section>

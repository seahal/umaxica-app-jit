<% content_for :root_app_react_shell, true %>
<% code_name = ENV.fetch("BRAND_NAME") { ENV.fetch("NAME") } %>
<% root_service_host = ENV["APEX_SERVICE_URL"].presence || "" %>
<% docs_service_host = ENV["DOCS_SERVICE_URL"].presence || "" %>
<% help_service_host = ENV["HELP_SERVICE_URL"].presence || "" %>
<% news_service_host = ENV["NEWS_SERVICE_URL"].presence || "" %>

<div
  id="root-app-react-root"
  class="min-h-[80vh]"
  data-code-name="<%= code_name %>"
  data-root-service-url="<%= root_service_host %>"
  data-docs-service-url="<%= docs_service_host %>"
  data-help-service-url="<%= help_service_host %>"
  data-news-service-url="<%= news_service_host %>">
</div>

<section class="bg-white px-6 py-14 text-slate-900 sm:px-10">
  <div class="mx-auto max-w-4xl space-y-6 rounded-3xl border border-slate-200 bg-slate-50 p-8 text-sm leading-relaxed text-slate-600 shadow-xl">
    <header class="space-y-2">
      <h2 class="text-lg font-semibold text-slate-900">
        JavaScript が無効化されています
      </h2>
      <p>
        よりリッチな体験をお届けするため、React Aria と Tailwind によるインタラクティブな UI を採用しています。
        ブラウザーで JavaScript を有効化すると、最新のホーム画面を体験できます。
      </p>
    </header>
    <dl class="grid gap-4 sm:grid-cols-2">
      <div>
        <dt class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
          現在のロケール
        </dt>
        <dd class="mt-1 font-mono text-sm text-slate-800"><%= I18n.locale %></dd>
      </div>
      <div>
        <dt class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
          タイムゾーン
        </dt>
        <dd class="mt-1 font-mono text-sm text-slate-800"><%= get_timezone %></dd>
      </div>
      <div>
        <dt class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
          言語
        </dt>
        <dd class="mt-1 font-mono text-sm text-slate-800"><%= get_language %></dd>
      </div>
      <div>
        <dt class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
          カラーテーマ
        </dt>
        <dd class="mt-1 font-mono text-sm text-slate-800"><%= get_colortheme %></dd>
      </div>
    </dl>
    <p class="text-xs text-slate-400">
      <%= link_to "表示設定を変更する", root_app_preference_url, class: "font-semibold text-indigo-600 underline decoration-indigo-300/40 underline-offset-4" %>
    </p>
  </div>
</section>

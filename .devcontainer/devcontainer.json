{
	"name": "umaxica-app-jit-dc",
	"dockerComposeFile": [
		"../compose.yml",
		"./compose.override.yml"
	],
	"service": "core",
	"remoteUser": "jit",
	"containerUser": "jit",
	"workspaceFolder": "/home/jit/workspace",
	"overrideCommand": true,
	"forwardPorts": [
		3002
	],
	"remoteEnv": {
		"EDITOR": "code --wait --reuse-window",
		"DEBUGGER_DISABLE": "1"
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"Shopify.ruby-lsp",
				"Shopify.ruby-extensions-pack",
				"bradlc.vscode-tailwindcss",
				"ms-vscode.vscode-typescript-next",
				"biomejs.biome",
				"ms-azuretools.vscode-docker",
				"GitHub.vscode-pull-request-github",
				"ms-vscode.remote-explorer",
				"rubocop.vscode-rubocop",
				"oven.bun-vscode",
				"anthropic.claude-code",
				"-sorbet.sorbet-vscode-extension",
				"-dbaeumer.vscode-eslint",
				"-esbenp.prettier-vscode",
				"-eamodio.gitlens",
				"KoichiSasada.vscode-rdbg",
				"GitHub.copilot-chat",
				"openai.chatgpt",
				"google.geminicodeassist"
			],
			"settings": {
				"extensions.verifySignature": false,
				"terminal.integrated.defaultProfile.linux": "bash",
				"terminal.integrated.profiles.linux": {
					"bash": {
						"path": "/bin/bash"
					},
					"zsh": {
						"path": "/bin/zsh"
					}
				},
				"editor.formatOnSave": true,
				"editor.tabSize": 2,
				"files.trimTrailingWhitespace": true,
				"files.insertFinalNewline": true,
				"editor.codeActionsOnSave": {
					"source.fixAll.biome": "explicit",
					"source.fixAll.eslint": "explicit",
					"source.fixAll": "explicit"
				},
				"files.associations": {
					"*.erb": "erb",
					"Procfile*": "shellscript",
					"compose.yml": "yaml",
					"*.yml": "yaml"
				},
				"[ruby]": {
					"editor.defaultFormatter": "Shopify.ruby-lsp"
				},
				"[javascript]": {
					"editor.defaultFormatter": "biomejs.biome"
				},
				"[typescript]": {
					"editor.defaultFormatter": "biomejs.biome"
				},
				"ruby.lsp.enabledFeatures": {
					"codeActions": true,
					"diagnostics": true,
					"documentHighlights": true,
					"documentLink": true,
					"documentSymbols": true,
					"foldingRanges": true,
					"formatting": true,
					"hover": true,
					"inlayHint": true,
					"onTypeFormatting": true,
					"selectionRanges": true,
					"semanticHighlighting": true,
					"completion": true,
					"codeLens": true,
					"definition": true,
					"workspaceSymbol": true,
					"signatureHelp": true,
					"typeHierarchy": true
				},
				"ruby.lint": {
					"rubocop": true
				}
			}
		},
		"jetbrains": {
			"remoteId": "intellij",
			"backend": "intellij",
			"plugins": [
				"org.jetbrains.plugins.ruby"
			],
			"containerEnv": {
				"DEVCONTAINER_IDE": "jetbrains",
				"DEVCONTAINER_AUTO_START_BIN_DEV": "0"
			}
		}
	},
	"shutdownAction": "stopCompose",
	"containerEnv": {
		"DEVCONTAINER_AUTO_START_BIN_DEV": "1",
		"NODE_OPTIONS": "--max-old-space-size=4096",
		"QT_QPA_PLATFORM": "wayland",
		"GDK_BACKEND": "wayland",
		"RUBY_YJIT_ENABLE": "1",
		"RUBY_YJIT_CALL_THRESHOLD": "10",
		"RUBY_DEBUG_OPEN": "false"
	},
	"updateRemoteUserUID": true,
	"postCreateCommand": "RAILS_ENV=test bin/rails db:create || true",
	"features": {
		"ghcr.io/devcontainers/features/github-cli:1": {},
		"ghcr.io/anthropics/devcontainer-features/claude-code:1": {},
		"ghcr.io/jsburckhardt/devcontainer-features/codex:1": {}
	},
	"mounts": [
		"source=${localEnv:HOME}/.claude,target=/home/jit/.claude,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.codex,target=/home/jit/.codex,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.config/gh,target=/home/jit/.config/gh,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.config/git,target=/home/jit/.config/git,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.gitconfig,target=/home/jit/.gitconfig,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.ssh,target=/home/jit/.ssh,type=bind,consistency=cached"
	]
}

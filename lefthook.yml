pre-commit:
  parallel: true
  commands:
    audit:
      run: bundle exec bundle audit
    brakeman:
      run: bundle exec brakeman --no-pager
    rubocop:
      run: bundle exec rubocop
    erb-lint:
      run: bundle exec erb_lint app/views/
    biome-format:
      run: bun run format
    typecheck:
      run: bun run typecheck
    npm-audit:
      run: ./bin/importmap audit
    npm-outdated:
      run: ./bin/importmap outdated

pre-push:
  parallel: true
  commands:
    rails:
      run: bin/rails test all
    bun:
      run: bun test
